---
# YASM
- yasm:
    url: --depth 1 git://github.com/yasm/yasm.git
    dir: yasm
    commands:
        - autoreconf -fiv
        - ./configure --prefix="$HOME/openveda/ffmpeg_build" --bindir="$HOME/bin"
        - make
        - make install
        - make distclean
# x264
- x264:
    url: --depth 1 git://git.videolan.org/x264
    dir: x264
    commands:
        - PKG_CONFIG_PATH="$HOME/openveda/ffmpeg_build/lib/pkgconfig" ./configure --prefix="$HOME/openveda/ffmpeg_build" --bindir="$HOME/openveda/ffmpeg_build/bin" --enable-static
        - make
        - make install
        - make distclean
# LAME
#---
# Sourceforge is having some issues, so we're going to skip this
#---
# - LAME:
    # url: curl -L -O http://downloads.sourceforge.net/project/lame/lame/3.99/lame-3.99.5.tar.gz
    # unpack: tar xzvf lame-3.99.5.tar.gz
    # dir: lame-3.99.5
    # commands:
        # - ./configure --prefix="$HOME/openveda/ffmpeg_build" --bindir="$HOME/openveda/ffmpeg_build/bin" --disable-shared --enable-nasm
        # - make
        # - make install
        # - make distclean

# ffmpeg
- ffmpeg:
    url: https://git.ffmpeg.org/ffmpeg.git ffmpeg
    dir: ffmpeg
    commands:
        - PKG_CONFIG_PATH="$HOME/openveda/ffmpeg_build/lib/pkgconfig" ./configure --prefix="$HOME/openveda/ffmpeg_build" --extra-cflags="-I$HOME/openveda/ffmpeg_build/include" --extra-ldflags="-L$HOME/openveda/ffmpeg_build/lib" --bindir="$HOME/openveda/ffmpeg_build/bin" --pkg-config-flags="--static" --enable-gpl --enable-nonfree --enable-libx264 --disable-ffplay --disable-ffserver  
        - make

...

